<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fashionavenue: Kurs Rejasi</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">

    <!-- Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        fashion: {
                            bg: '#F9F8F6',
                            text: '#2D2A26',
                            gold: '#A68A64',
                            dark: '#1C1917',
                            light: '#E7E5E4',
                            accent: '#92400E'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #F9F8F6; color: #2D2A26; }
        .chart-container { position: relative; width: 100%; height: 300px; }
        @media (min-width: 768px) { .chart-container { height: 350px; } }
        .lesson-active { border-left: 4px solid #A68A64; background-color: white; font-weight: 600; }
    </style>
</head>
<body class="font-sans antialiased selection:bg-fashion-gold selection:text-white pb-20">

    <!-- Navbar -->
    <nav class="w-full bg-white border-b border-fashion-light sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
            <!-- BRAND NAME -->
            <div class="font-serif text-2xl font-bold text-fashion-dark tracking-tight">Fashion<span class="text-fashion-gold text-lg font-sans font-normal">avenue</span></div>
            
            <!-- Desktop Menu -->
            <div class="hidden md:flex items-center space-x-6 text-sm font-medium text-gray-500">
                <a href="#overview" class="hover:text-fashion-gold transition" data-key="nav_overview">Umumiy Ko'rinish</a>
                <a href="#syllabus" class="hover:text-fashion-gold transition" data-key="nav_syllabus">Kurs Dasturi</a>
                <a href="#schedule" class="hover:text-fashion-gold transition" data-key="nav_schedule">Reja</a>
                
                <!-- Language Switcher -->
                <button onclick="toggleLanguage()" class="ml-4 px-3 py-1 border border-gray-300 rounded text-xs font-bold hover:bg-fashion-dark hover:text-white transition uppercase" id="langBtn">
                    RU
                </button>
            </div>

            <!-- Mobile Menu Button -->
            <div class="md:hidden flex items-center gap-3">
                <button onclick="toggleLanguage()" class="px-2 py-1 border border-gray-300 rounded text-xs font-bold uppercase" id="langBtnMobile">RU</button>
                <button onclick="document.getElementById('mobileMenu').classList.toggle('hidden')" class="text-fashion-dark focus:outline-none p-2 rounded hover:bg-gray-100">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                </button>
            </div>
        </div>
        
        <!-- Mobile Dropdown -->
        <div id="mobileMenu" class="hidden md:hidden bg-white border-t border-gray-100 p-4 space-y-3 shadow-lg absolute w-full z-40">
            <a href="#overview" class="block text-gray-600 py-2 hover:text-fashion-gold" data-key="nav_overview">Umumiy Ko'rinish</a>
            <a href="#syllabus" class="block text-gray-600 py-2 hover:text-fashion-gold" data-key="nav_syllabus">Kurs Dasturi</a>
            <a href="#schedule" class="block text-gray-600 py-2 hover:text-fashion-gold" data-key="nav_schedule">Reja</a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-6xl mx-auto px-4 py-8 space-y-16">

        <!-- Header -->
        <header class="text-center py-16 md:py-24 max-w-4xl mx-auto flex flex-col items-center justify-center min-h-[50vh]">
            <span class="inline-block px-4 py-1.5 mb-6 text-xs font-semibold tracking-widest text-fashion-gold uppercase border border-fashion-gold rounded-full bg-white" data-key="hero_badge">8 Darslik Intensiv</span>
            <h1 class="font-serif text-5xl md:text-7xl font-bold text-fashion-dark mb-8 leading-tight">
                <span data-key="hero_title_1">Moda va AI:</span> <br/> 
                <span class="text-fashion-gold" data-key="hero_title_2">G'oyadan Reallikka</span>
            </h1>
            <p class="text-lg md:text-xl text-gray-600 mb-10 leading-relaxed max-w-2xl mx-auto" data-key="hero_desc">
                Noldan boshlab professionalgacha. <strong>Nano Banana</strong> yordamida moda rasmlari va <strong>Google Flow</strong> orqali yuqori sifatli video kampaniyalar yaratishni o'rganing.
            </p>
            
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 md:gap-12 text-center w-full border-t border-fashion-light pt-10">
                <div class="flex flex-col items-center">
                    <div class="text-3xl font-bold text-fashion-dark mb-1" data-key="stat_duration_val">4 Hafta</div>
                    <div class="text-xs text-gray-500 uppercase tracking-widest" data-key="stat_duration_label">Davomiyligi</div>
                </div>
                <div class="flex flex-col items-center">
                    <div class="text-3xl font-bold text-fashion-dark mb-1" data-key="stat_hours_val">12 Soat</div>
                    <div class="text-xs text-gray-500 uppercase tracking-widest" data-key="stat_hours_label">Umumiy vaqt</div>
                </div>
                <div class="flex flex-col items-center">
                    <div class="text-3xl font-bold text-fashion-dark mb-1">2 <span data-key="tools_label">Asbob</span></div>
                    <div class="text-xs text-gray-500 uppercase tracking-widest">Nano Banana & G-Flow</div>
                </div>
                <div class="flex flex-col items-center">
                    <div class="text-3xl font-bold text-fashion-dark mb-1">65%</div>
                    <div class="text-xs text-gray-500 uppercase tracking-widest" data-key="stat_practice_label">Amaliyot</div>
                </div>
            </div>
        </header>

        <!-- Overview -->
        <section id="overview" class="bg-white p-8 rounded-2xl shadow-sm border border-fashion-light">
            <div class="mb-8">
                <h2 class="font-serif text-3xl text-fashion-dark mb-3" data-key="balance_title">Kurs Balansi</h2>
                <p class="text-gray-600" data-key="balance_desc">Nazariya va amaliyot taqsimoti.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div class="space-y-4">
                    <h3 class="text-sm font-bold uppercase tracking-widest text-gray-400 text-center" data-key="chart_topics_title">Mavzular Taqsimoti</h3>
                    <div class="chart-container"><canvas id="contentChart"></canvas></div>
                </div>
                <div class="space-y-4">
                    <h3 class="text-sm font-bold uppercase tracking-widest text-gray-400 text-center" data-key="chart_structure_title">Dars Tuzilishi</h3>
                    <div class="chart-container"><canvas id="structureChart"></canvas></div>
                    <p class="text-xs text-center text-gray-400 mt-2" data-key="chart_note">* Har bir dars 90 daqiqa</p>
                </div>
            </div>
        </section>

        <!-- Syllabus -->
        <section id="syllabus" class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            <div class="lg:col-span-4 space-y-4">
                <div class="mb-4">
                    <h2 class="font-serif text-3xl text-fashion-dark" data-key="list_title">Darslar Ro'yxati</h2>
                    <p class="text-sm text-gray-500 mt-1" data-key="list_subtitle">Batafsil ko'rish uchun darsni tanlang.</p>
                </div>
                <div id="lessonList" class="space-y-2"></div>
            </div>
            <div class="lg:col-span-8">
                <div id="lessonDetail" class="bg-white rounded-2xl p-8 shadow-lg border border-fashion-light h-full flex flex-col justify-center min-h-[500px] relative overflow-hidden transition-all duration-300">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-fashion-gold opacity-5 rounded-bl-full pointer-events-none"></div>
                    <div id="detailContent" class="relative z-10"></div>
                </div>
            </div>
        </section>

        <!-- Schedule/Plan -->
        <section id="schedule" class="bg-fashion-dark text-white rounded-2xl p-8 md:p-12 relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none" style="background-image: radial-gradient(#A68A64 1px, transparent 1px); background-size: 20px 20px;"></div>
            <div class="relative z-10 text-center mb-10">
                <h2 class="font-serif text-3xl mb-2" data-key="plan_title">4 Haftalik Reja</h2>
                <p class="text-gray-400" data-key="plan_subtitle">Haftasiga 2 marta, barqaror o'sish.</p>
            </div>
            <div id="weeklyPlanContainer" class="grid grid-cols-1 md:grid-cols-4 gap-6 relative z-10">
                <!-- Javascript populates this -->
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-white border-t border-fashion-light py-8 text-center text-sm text-gray-500">
            <p>&copy; 2024 Fashionavenue. Barcha huquqlar himoyalangan.</p>
        </footer>

    </main>

    <script>
        // --- TRANSLATIONS (Uzbek & Russian) ---
        const translations = {
            uz: {
                // Nav
                nav_overview: "Umumiy Ko'rinish", nav_syllabus: "Kurs Dasturi", nav_schedule: "Reja",
                
                // Hero
                hero_badge: "8 Darslik Intensiv", hero_title_1: "Moda va AI:", hero_title_2: "G'oyadan Reallikka",
                hero_desc: "Noldan boshlab professionalgacha. <strong>Nano Banana</strong> yordamida moda rasmlari va <strong>Google Flow</strong> orqali yuqori sifatli video kampaniyalar yaratishni o'rganing.",
                stat_duration_val: "4 Hafta", stat_duration_label: "Davomiyligi",
                stat_hours_val: "12 Soat", stat_hours_label: "Umumiy vaqt",
                tools_label: "Asbob", stat_practice_label: "Amaliyot",
                
                // Balance
                balance_title: "Kurs Balansi", 
                balance_desc: "Nazariya va amaliyot taqsimoti.",
                
                chart_topics_title: "Mavzular Taqsimoti", chart_structure_title: "Dars Tuzilishi (Daqiqalarda)", chart_note: "* Har bir dars 90 daqiqa",
                
                // Syllabus
                list_title: "Darslar Ro'yxati", list_subtitle: "Batafsil ko'rish uchun tanlang.",
                
                // Plan
                plan_title: "4 Haftalik Reja", plan_subtitle: "Haftasiga 2 marta, barqaror o'sish.",
                
                lesson_label: "Dars",
                topics_label: "Mavzular",
                goal_label: "Maqsad",
                week_label: "Hafta",
                
                chart_labels_content: ['Nano Banana (Rasmlar)', 'Google Flow (Video)', 'Strategiya'],
                chart_labels_structure: ['Nazariya', 'Amaliyot', 'Tahlil']
            },
            ru: {
                // Nav
                nav_overview: "Обзор", nav_syllabus: "Программа", nav_schedule: "План",
                
                // Hero
                hero_badge: "Интенсив 8 уроков", hero_title_1: "Мода и ИИ:", hero_title_2: "От Идеи к Реальности",
                hero_desc: "С нуля до профи. Создавайте модные образы с <strong>Nano Banana</strong> и видеокампании с <strong>Google Flow</strong>.",
                stat_duration_val: "4 Недели", stat_duration_label: "Длительность",
                stat_hours_val: "12 Часов", stat_hours_label: "Общее время",
                tools_label: "Инструмента", stat_practice_label: "Практика",
                
                // Balance
                balance_title: "Баланс Курса", 
                balance_desc: "Распределение теории и практики.",

                chart_topics_title: "Распределение Тем", chart_structure_title: "Структура Урока (Минуты)", chart_note: "* Каждый урок 90 минут",
                
                // Syllabus
                list_title: "Список Уроков", list_subtitle: "Выберите урок для деталей.",
                
                // Plan
                plan_title: "План на 4 Недели", plan_subtitle: "2 раза в неделю, стабильный рост.",

                lesson_label: "Урок",
                topics_label: "Темы",
                goal_label: "Цель",
                week_label: "Неделя",

                chart_labels_content: ['Nano Banana (Фото)', 'Google Flow (Видео)', 'Стратегия'],
                chart_labels_structure: ['Теория', 'Практика', 'Разбор']
            }
        };

        // --- DATA (Uzbek & Russian) ---
        const lessonsData = [
            {
                id: 1,
                title: { uz: "Kirish va Nano Banana Asoslari", ru: "Введение и основы Nano Banana" },
                week: 1,
                tools: "Nano Banana",
                goal: { uz: "Platformani tushunish va ilk natijani olish", ru: "Понять платформу и получить первый результат" },
                topics: { 
                    uz: ["AI Fashion tushunchasi", "Nano Banana sozlamalari", "Text-to-Image asoslari"], 
                    ru: ["Понятие AI Fashion", "Настройки Nano Banana", "Основы Text-to-Image"] 
                },
                plan: [
                    { time: "20m", type_uz: "Nazariya", type_ru: "Теория", desc_uz: "AIni modada ishlatish.", desc_ru: "Использование ИИ в моде." },
                    { time: "50m", type_uz: "Amaliyot", type_ru: "Практика", desc_uz: "Birinchi 'Basic Look' yaratish.", desc_ru: "Создание первого 'Basic Look'." },
                    { time: "20m", type_uz: "Tahlil", type_ru: "Разбор", desc_uz: "Xatolarni ko'rib chiqish.", desc_ru: "Разбор ошибок." }
                ]
            },
            {
                id: 2,
                title: { uz: "Moda Prompt Engineering", ru: "Промпт-инжиниринг в моде" },
                week: 1,
                tools: "Nano Banana",
                goal: { uz: "Matolar va stillarni to'g'ri tasvirlash", ru: "Правильное описание тканей и стилей" },
                topics: { 
                    uz: ["Moda terminologiyasi", "Ranglar va yorug'lik", "Salbiy promptlar"], 
                    ru: ["Терминология моды", "Цвета и освещение", "Негативные промпты"] 
                },
                plan: [
                    { time: "30m", type_uz: "Nazariya", type_ru: "Теория", desc_uz: "Prompt formulalari.", desc_ru: "Формулы промптов." },
                    { time: "45m", type_uz: "Amaliyot", type_ru: "Практика", desc_uz: "3 xil stilda kolleksiya.", desc_ru: "Коллекция в 3 стилях." },
                    { time: "15m", type_uz: "Tahlil", type_ru: "Разбор", desc_uz: "Optimallashtirish.", desc_ru: "Оптимизация." }
                ]
            },
            {
                id: 3,
                title: { uz: "Murakkab Rasmlar va Modellar", ru: "Сложные образы и модели" },
                week: 2,
                tools: "Nano Banana",
                goal: { uz: "Realistik modellar va pozalarni boshqarish", ru: "Управление реалистичными моделями и позами" },
                topics: { uz: ["Pozalarni boshqarish", "Yuz ifodalari", "Rakurslar"], ru: ["Контроль поз", "Мимика лица", "Ракурсы"] },
                plan: [
                    { time: "25m", type_uz: "Nazariya", type_ru: "Теория", desc_uz: "Kompozitsiya qoidalari.", desc_ru: "Правила композиции." },
                    { time: "50m", type_uz: "Amaliyot", type_ru: "Практика", desc_uz: "Aniq model generatsiyasi.", desc_ru: "Генерация конкретной модели." },
                    { time: "15m", type_uz: "Tahlil", type_ru: "Разбор", desc_uz: "Realizm tekshiruvi.", desc_ru: "Проверка реализма." }
                ]
            },
            {
                id: 4,
                title: { uz: "Tahrirlash va Upscaling", ru: "Редактирование и Апскейлинг" },
                week: 2,
                tools: "Nano Banana + Tools",
                goal: { uz: "Rasmlarni chop etish sifatiga olib chiqish", ru: "Доведение изображений до качества печати" },
                topics: { uz: ["Upscaling", "Inpainting (o'chirish)", "Outpainting (kengaytirish)"], ru: ["Апскейлинг", "Inpainting (удаление)", "Outpainting (расширение)"] },
                plan: [
                    { time: "20m", type_uz: "Nazariya", type_ru: "Теория", desc_uz: "DPI va sifat.", desc_ru: "DPI и качество." },
                    { time: "60m", type_uz: "Amaliyot", type_ru: "Практика", desc_uz: "4K sifatga o'tkazish.", desc_ru: "Перевод в 4K." },
                    { time: "10m", type_uz: "Tahlil", type_ru: "Разбор", desc_uz: "Solishtirish.", desc_ru: "Сравнение." }
                ]
            },
            {
                id: 5,
                title: { uz: "Video Yaratishga Kirish", ru: "Введение в создание видео" },
                week: 3,
                tools: "Google Flow",
                goal: { uz: "Statik rasmlardan harakatga o'tish", ru: "Переход от статики к движению" },
                topics: { uz: ["AI Video texnologiyalari", "FPS va Motion", "Kamera harakatlari"], ru: ["Технологии AI видео", "FPS и Движение", "Движения камеры"] },
                plan: [
                    { time: "30m", type_uz: "Nazariya", type_ru: "Теория", desc_uz: "Google Flow interfeysi.", desc_ru: "Интерфейс Google Flow." },
                    { time: "45m", type_uz: "Amaliyot", type_ru: "Практика", desc_uz: "4 soniyalik video.", desc_ru: "4-секундное видео." },
                    { time: "15m", type_uz: "Tahlil", type_ru: "Разбор", desc_uz: "Sifatni baholash.", desc_ru: "Оценка качества." }
                ]
            },
            {
                id: 6,
                title: { uz: "Rasmdan Videoga", ru: "Из изображения в видео" },
                week: 3,
                tools: "Google Flow",
                goal: { uz: "Kiyim va mato harakatini reallashtirish", ru: "Реализация движения ткани" },
                topics: { uz: ["Image-to-Video", "Shamol simulyatsiyasi", "Podium yurishi"], ru: ["Image-to-Video", "Симуляция ветра", "Подиумная походка"] },
                plan: [
                    { time: "20m", type_uz: "Nazariya", type_ru: "Теория", desc_uz: "Fizika qonunlari.", desc_ru: "Законы физики." },
                    { time: "60m", type_uz: "Amaliyot", type_ru: "Практика", desc_uz: "Catwalk video.", desc_ru: "Видео дефиле." },
                    { time: "10m", type_uz: "Tahlil", type_ru: "Разбор", desc_uz: "Artefaktlar.", desc_ru: "Артефакты." }
                ]
            },
            {
                id: 7,
                title: { uz: "To'liq Moda Kampaniyasi", ru: "Полная модная кампания" },
                week: 4,
                tools: "All Tools",
                goal: { uz: "Yagona stilga ega hikoya", ru: "Единая стилистика истории" },
                topics: { uz: ["Storyboarding", "Musiqa va montaj", "Brending"], ru: ["Раскадровка", "Музыка и монтаж", "Брендинг"] },
                plan: [
                    { time: "25m", type_uz: "Nazariya", type_ru: "Теория", desc_uz: "Reklama tahlili.", desc_ru: "Анализ рекламы." },
                    { time: "55m", type_uz: "Amaliyot", type_ru: "Практика", desc_uz: "Mini-reklama roligi.", desc_ru: "Мини-рекламный ролик." },
                    { time: "10m", type_uz: "Tahlil", type_ru: "Разбор", desc_uz: "Struktura.", desc_ru: "Структура." }
                ]
            },
            {
                id: 8,
                title: { uz: "Portfolio va Taqdimot", ru: "Портфолио и Презентация" },
                week: 4,
                tools: "All Tools",
                goal: { uz: "Kursni tayyor mahsulot bilan tugatish", ru: "Завершение курса готовым продуктом" },
                topics: { uz: ["Portfolio shakllantirish", "Freelance", "Yakuniy taqdimot"], ru: ["Создание портфолио", "Фриланс", "Финальная презентация"] },
                plan: [
                    { time: "15m", type_uz: "Nazariya", type_ru: "Теория", desc_uz: "Bozor tahlili.", desc_ru: "Анализ рынка." },
                    { time: "60m", type_uz: "Amaliyot", type_ru: "Практика", desc_uz: "Showreel yig'ish.", desc_ru: "Сборка шоурила." },
                    { time: "15m", type_uz: "Yakun", type_ru: "Финал", desc_uz: "Sertifikatlash.", desc_ru: "Сертификация." }
                ]
            }
        ];

        const weekPlan = [
            { week: 1, title: {uz: "Rasmlar Asosi", ru: "Основы Фото"}, desc: {uz: "Nano Banana asoslari", ru: "Основы Nano Banana"}, lessons: [1, 2] },
            { week: 2, title: {uz: "Pro Dizayn", ru: "Pro Дизайн"}, desc: {uz: "Murakkablik va Sifat", ru: "Сложность и Качество"}, lessons: [3, 4] },
            { week: 3, title: {uz: "Video & Harakat", ru: "Видео и Движение"}, desc: {uz: "Google Flow jonlantirish", ru: "Анимация в Google Flow"}, lessons: [5, 6] },
            { week: 4, title: {uz: "Katta Loyiha", ru: "Большой Проект"}, desc: {uz: "Kampaniya yaratish", ru: "Создание кампании"}, lessons: [7, 8] }
        ];

        // --- STATE ---
        let currentLang = 'uz';
        let currentLessonId = 1;
        let contentChart, structureChart;

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            initCharts(); 
            updateLanguageUI();
            renderWeeklyPlan();
        });

        // --- CORE FUNCTIONS ---

        function toggleLanguage() {
            currentLang = currentLang === 'uz' ? 'ru' : 'uz';
            document.getElementById('langBtn').innerText = currentLang === 'uz' ? 'RU' : 'UZ';
            document.getElementById('langBtnMobile').innerText = currentLang === 'uz' ? 'RU' : 'UZ';
            updateLanguageUI();
        }

        function updateLanguageUI() {
            // Static text
            document.querySelectorAll('[data-key]').forEach(el => {
                const key = el.getAttribute('data-key');
                if(translations[currentLang][key]) {
                    el.innerHTML = translations[currentLang][key];
                }
            });

            // Re-render dynamic components
            renderLessonList();
            renderLessonDetail(currentLessonId);
            renderWeeklyPlan();
            updateCharts();
        }

        function renderLessonList() {
            const listEl = document.getElementById('lessonList');
            const t = translations[currentLang];
            listEl.innerHTML = lessonsData.map(lesson => `
                <div onclick="selectLesson(${lesson.id})" 
                     class="cursor-pointer p-4 rounded-lg border border-transparent hover:bg-white hover:shadow-md transition-all duration-200 ${lesson.id === currentLessonId ? 'lesson-active shadow-sm' : 'text-gray-500'}">
                    <div class="flex justify-between items-center">
                        <span class="text-xs font-bold uppercase tracking-wider ${lesson.id === currentLessonId ? 'text-fashion-gold' : 'text-gray-400'}">${t.lesson_label} ${lesson.id}</span>
                        <span class="text-xs bg-gray-100 px-2 py-1 rounded text-gray-500">${t.week_label} ${lesson.week}</span>
                    </div>
                    <h3 class="font-medium text-lg mt-1 ${lesson.id === currentLessonId ? 'text-fashion-dark' : ''}">${lesson.title[currentLang]}</h3>
                </div>
            `).join('');
        }

        function selectLesson(id) {
            currentLessonId = id;
            renderLessonList();
            const detailEl = document.getElementById('lessonDetail');
            detailEl.classList.add('opacity-50', 'scale-95');
            setTimeout(() => {
                renderLessonDetail(id);
                detailEl.classList.remove('opacity-50', 'scale-95');
            }, 200);
        }

        function renderLessonDetail(id) {
            const lesson = lessonsData.find(l => l.id === id);
            const t = translations[currentLang];
            
            // Plan items
            const planHtml = lesson.plan.map(item => {
                const typeText = item[`type_${currentLang}`];
                const descText = item[`desc_${currentLang}`];
                let colorClass = 'bg-gray-500';
                if(item.type_uz === 'Nazariya') colorClass = 'bg-fashion-dark';
                if(item.type_uz === 'Amaliyot') colorClass = 'bg-fashion-gold';
                
                return `
                <li class="flex items-start group">
                    <span class="${colorClass} text-white text-xs font-bold px-2 py-1 rounded mr-3 mt-1 min-w-[50px] text-center">${item.time}</span>
                    <div>
                        <span class="font-bold text-gray-800 text-sm block mb-1">${typeText}</span>
                        <span class="text-gray-600 text-sm leading-relaxed">${descText}</span>
                    </div>
                </li>`;
            }).join('');

            const topicsHtml = lesson.topics[currentLang].map(tp => `<li class="text-gray-600 text-sm">${tp}</li>`).join('');

            document.getElementById('detailContent').innerHTML = `
                <div class="flex items-center justify-between mb-2">
                    <span class="text-fashion-gold font-bold tracking-widest uppercase text-sm">${t.lesson_label} ${lesson.id}</span>
                    <span class="text-xs text-gray-400 border border-gray-200 px-2 py-1 rounded">${lesson.tools}</span>
                </div>
                <h3 class="font-serif text-3xl md:text-4xl text-fashion-dark mb-6 leading-tight">${lesson.title[currentLang]}</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-[#F9F8F6] p-5 rounded-xl border border-fashion-light">
                        <h4 class="font-bold text-fashion-dark mb-3 text-xs uppercase tracking-wide flex items-center">
                            <span class="w-2 h-2 bg-fashion-gold rounded-full mr-2"></span>${t.topics_label}
                        </h4>
                        <ul class="list-disc list-inside space-y-2 marker:text-fashion-gold">${topicsHtml}</ul>
                    </div>
                    <div class="bg-[#F9F8F6] p-5 rounded-xl border border-fashion-light flex flex-col justify-center">
                        <h4 class="font-bold text-fashion-dark mb-2 text-xs uppercase tracking-wide flex items-center">
                            <span class="w-2 h-2 bg-green-500 rounded-full mr-2"></span>${t.goal_label}
                        </h4>
                        <p class="text-gray-600 text-sm italic">"${lesson.goal[currentLang]}"</p>
                    </div>
                </div>
                <div class="space-y-4">
                    <ul class="space-y-4">${planHtml}</ul>
                </div>
            `;
        }

        function renderWeeklyPlan() {
            const container = document.getElementById('weeklyPlanContainer');
            const t = translations[currentLang];
            container.innerHTML = weekPlan.map(w => `
                <div class="bg-white/10 backdrop-blur-sm p-6 rounded-xl border border-white/10 hover:bg-white/20 transition duration-300">
                    <div class="text-fashion-gold font-bold text-lg mb-2">${t.week_label} ${w.week}</div>
                    <div class="text-2xl font-serif mb-4">${w.title[currentLang]}</div>
                    <p class="text-sm text-gray-300 mb-4">${w.desc[currentLang]}</p>
                    <div class="space-y-2 text-xs font-mono">
                        ${w.lessons.map(lId => `<div class="bg-black/30 p-2 rounded">${t.lesson_label} ${lId}</div>`).join('')}
                    </div>
                </div>
            `).join('');
        }

        // --- CHARTS ---
        function initCharts() {
            const ctx1 = document.getElementById('contentChart').getContext('2d');
            const ctx2 = document.getElementById('structureChart').getContext('2d');
            
            Chart.defaults.font.family = 'Inter';

            contentChart = new Chart(ctx1, {
                type: 'doughnut',
                data: {
                    labels: [], // Set in updateCharts
                    datasets: [{
                        data: [45, 40, 15],
                        backgroundColor: ['#A68A64', '#1C1917', '#E5E7EB'],
                        borderWidth: 0
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, cutout: '70%', plugins: { legend: { position: 'bottom' } } }
            });

            structureChart = new Chart(ctx2, {
                type: 'bar',
                data: {
                    labels: ['1', '2', '3', '4', '5', '6', '7', '8'],
                    datasets: [
                        { label: '', data: [20, 30, 25, 20, 30, 20, 25, 15], backgroundColor: '#1C1917' }, // Theory
                        { label: '', data: [50, 45, 50, 60, 45, 60, 55, 60], backgroundColor: '#A68A64' }, // Practice
                        { label: '', data: [20, 15, 15, 10, 15, 10, 10, 15], backgroundColor: '#E5E7EB' }  // Review
                    ]
                },
                options: { 
                    responsive: true, maintainAspectRatio: false, 
                    scales: { x: { stacked: true, grid: {display:false} }, y: { stacked: true, display: false } },
                    plugins: { legend: { position: 'bottom' } }
                }
            });
        }

        function updateCharts() {
            if (!contentChart || !structureChart) return;

            const t = translations[currentLang];
            
            // Update Content Chart
            contentChart.data.labels = t.chart_labels_content;
            contentChart.update();

            // Update Structure Chart
            structureChart.data.datasets[0].label = t.chart_labels_structure[0];
            structureChart.data.datasets[1].label = t.chart_labels_structure[1];
            structureChart.data.datasets[2].label = t.chart_labels_structure[2];
            structureChart.update();
        }
    </script>
</body>
</html>
